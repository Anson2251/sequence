(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))e(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const h of o.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&e(h)}).observe(document,{childList:!0,subtree:!0});function i(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function e(r){if(r.ep)return;r.ep=!0;const o=i(r);fetch(r.href,o)}})();/**
 * @license Fraction.js v4.3.7 31/08/2023
 * https://www.xarg.org/2014/03/rational-numbers-in-javascript/
 *
 * Copyright (c) 2023, Robert Eisele (robert@raw.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/var I=2e3,s={s:1,n:0,d:1};function N(t,n){if(isNaN(t=parseInt(t,10)))throw y();return t*n}function u(t,n){if(n===0)throw C();var i=Object.create(c.prototype);i.s=t<0?-1:1,t=t<0?-t:t;var e=g(t,n);return i.n=t/e,i.d=n/e,i}function T(t){for(var n={},i=t,e=2,r=4;r<=i;){for(;i%e===0;)i/=e,n[e]=(n[e]||0)+1;r+=1+2*e++}return i!==t?i>1&&(n[i]=(n[i]||0)+1):n[t]=(n[t]||0)+1,n}var d=function(t,n){var i=0,e=1,r=1,o=0,h=0,L=0,v=1,l=1,a=0,f=1,M=1,m=1,$=1e7,b;if(t!=null)if(n!==void 0){if(i=t,e=n,r=i*e,i%1!==0||e%1!==0)throw B()}else switch(typeof t){case"object":{if("d"in t&&"n"in t)i=t.n,e=t.d,"s"in t&&(i*=t.s);else if(0 in t)i=t[0],1 in t&&(e=t[1]);else throw y();r=i*e;break}case"number":{if(t<0&&(r=t,t=-t),t%1===0)i=t;else if(t>0){for(t>=1&&(l=Math.pow(10,Math.floor(1+Math.log(t)/Math.LN10)),t/=l);f<=$&&m<=$;)if(b=(a+M)/(f+m),t===b){f+m<=$?(i=a+M,e=f+m):m>f?(i=M,e=m):(i=a,e=f);break}else t>b?(a+=M,f+=m):(M+=a,m+=f),f>$?(i=M,e=m):(i=a,e=f);i*=l}else(isNaN(t)||isNaN(n))&&(e=i=NaN);break}case"string":{if(f=t.match(/\d+|./g),f===null)throw y();if(f[a]==="-"?(r=-1,a++):f[a]==="+"&&a++,f.length===a+1?h=N(f[a++],r):f[a+1]==="."||f[a]==="."?(f[a]!=="."&&(o=N(f[a++],r)),a++,(a+1===f.length||f[a+1]==="("&&f[a+3]===")"||f[a+1]==="'"&&f[a+3]==="'")&&(h=N(f[a],r),v=Math.pow(10,f[a].length),a++),(f[a]==="("&&f[a+2]===")"||f[a]==="'"&&f[a+2]==="'")&&(L=N(f[a+1],r),l=Math.pow(10,f[a+1].length)-1,a+=3)):f[a+1]==="/"||f[a+1]===":"?(h=N(f[a],r),v=N(f[a+2],1),a+=3):f[a+3]==="/"&&f[a+1]===" "&&(o=N(f[a],r),h=N(f[a+2],r),v=N(f[a+4],1),a+=5),f.length<=a){e=v*l,r=i=L+e*o+l*h;break}}default:throw y()}if(e===0)throw C();s.s=r<0?-1:1,s.n=Math.abs(i),s.d=Math.abs(e)};function E(t,n,i){for(var e=1;n>0;t=t*t%i,n>>=1)n&1&&(e=e*t%i);return e}function D(t,n){for(;n%2===0;n/=2);for(;n%5===0;n/=5);if(n===1)return 0;for(var i=10%n,e=1;i!==1;e++)if(i=i*10%n,e>I)return 0;return e}function P(t,n,i){for(var e=1,r=E(10,i,n),o=0;o<300;o++){if(e===r)return o;e=e*10%n,r=r*10%n}return 0}function g(t,n){if(!t)return n;if(!n)return t;for(;;){if(t%=n,!t)return n;if(n%=t,!n)return t}}function c(t,n){if(d(t,n),this instanceof c)t=g(s.d,s.n),this.s=s.s,this.n=s.n/t,this.d=s.d/t;else return u(s.s*s.n,s.d)}var C=function(){return new Error("Division by Zero")},y=function(){return new Error("Invalid argument")},B=function(){return new Error("Parameters must be integer")};c.prototype={s:1,n:0,d:1,abs:function(){return u(this.n,this.d)},neg:function(){return u(-this.s*this.n,this.d)},add:function(t,n){return d(t,n),u(this.s*this.n*s.d+s.s*this.d*s.n,this.d*s.d)},sub:function(t,n){return d(t,n),u(this.s*this.n*s.d-s.s*this.d*s.n,this.d*s.d)},mul:function(t,n){return d(t,n),u(this.s*s.s*this.n*s.n,this.d*s.d)},div:function(t,n){return d(t,n),u(this.s*s.s*this.n*s.d,this.d*s.n)},clone:function(){return u(this.s*this.n,this.d)},mod:function(t,n){if(isNaN(this.n)||isNaN(this.d))return new c(NaN);if(t===void 0)return u(this.s*this.n%this.d,1);if(d(t,n),s.n===0&&this.d===0)throw C();return u(this.s*(s.d*this.n)%(s.n*this.d),s.d*this.d)},gcd:function(t,n){return d(t,n),u(g(s.n,this.n)*g(s.d,this.d),s.d*this.d)},lcm:function(t,n){return d(t,n),s.n===0&&this.n===0?u(0,1):u(s.n*this.n,g(s.n,this.n)*g(s.d,this.d))},ceil:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new c(NaN):u(Math.ceil(t*this.s*this.n/this.d),t)},floor:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new c(NaN):u(Math.floor(t*this.s*this.n/this.d),t)},round:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new c(NaN):u(Math.round(t*this.s*this.n/this.d),t)},roundTo:function(t,n){return d(t,n),u(this.s*Math.round(this.n*s.d/(this.d*s.n))*s.n,s.d)},inverse:function(){return u(this.s*this.d,this.n)},pow:function(t,n){if(d(t,n),s.d===1)return s.s<0?u(Math.pow(this.s*this.d,s.n),Math.pow(this.n,s.n)):u(Math.pow(this.s*this.n,s.n),Math.pow(this.d,s.n));if(this.s<0)return null;var i=T(this.n),e=T(this.d),r=1,o=1;for(var h in i)if(h!=="1"){if(h==="0"){r=0;break}if(i[h]*=s.n,i[h]%s.d===0)i[h]/=s.d;else return null;r*=Math.pow(h,i[h])}for(var h in e)if(h!=="1"){if(e[h]*=s.n,e[h]%s.d===0)e[h]/=s.d;else return null;o*=Math.pow(h,e[h])}return s.s<0?u(o,r):u(r,o)},equals:function(t,n){return d(t,n),this.s*this.n*s.d===s.s*s.n*this.d},compare:function(t,n){d(t,n);var i=this.s*this.n*s.d-s.s*s.n*this.d;return(0<i)-(i<0)},simplify:function(t){if(isNaN(this.n)||isNaN(this.d))return this;t=t||.001;for(var n=this.abs(),i=n.toContinued(),e=1;e<i.length;e++){for(var r=u(i[e-1],1),o=e-2;o>=0;o--)r=r.inverse().add(i[o]);if(Math.abs(r.sub(n).valueOf())<t)return r.mul(this.s)}return this},divisible:function(t,n){return d(t,n),!(!(s.n*this.d)||this.n*s.d%(s.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(t){var n,i="",e=this.n,r=this.d;return this.s<0&&(i+="-"),r===1?i+=e:(t&&(n=Math.floor(e/r))>0&&(i+=n,i+=" ",e%=r),i+=e,i+="/",i+=r),i},toLatex:function(t){var n,i="",e=this.n,r=this.d;return this.s<0&&(i+="-"),r===1?i+=e:(t&&(n=Math.floor(e/r))>0&&(i+=n,e%=r),i+="\\frac{",i+=e,i+="}{",i+=r,i+="}"),i},toContinued:function(){var t,n=this.n,i=this.d,e=[];if(isNaN(n)||isNaN(i))return e;do e.push(Math.floor(n/i)),t=n%i,n=i,i=t;while(n!==1);return e},toString:function(t){var n=this.n,i=this.d;if(isNaN(n)||isNaN(i))return"NaN";t=t||15;var e=D(n,i),r=P(n,i,e),o=this.s<0?"-":"";if(o+=n/i|0,n%=i,n*=10,n&&(o+="."),e){for(var h=r;h--;)o+=n/i|0,n%=i,n*=10;o+="(";for(var h=e;h--;)o+=n/i|0,n%=i,n*=10;o+=")"}else for(var h=t;n&&h--;)o+=n/i|0,n%=i,n*=10;return o}};class w{constructor(n,i,e,r){this.a=n,this.b=i,this.c=e,this.d=r}getHTMLCode(){let n="",i="",e="",r="";this.a.valueOf()!==0&&(n=`${w.fractiontoHTMLCode(this.a)}`),this.b.valueOf()!==0&&(i=`${w.fractiontoHTMLCode(this.b)}`),this.c.valueOf()!==0&&(e=`${w.fractiontoHTMLCode(this.c)}`),this.d.valueOf()!==0&&(r=`${w.fractiontoHTMLCode(this.d)}`);let o=`${n?n+"n<sup>3</sup>":""} ${i?i+"n<sup>2</sup>":""} ${e?e+"n":""} ${r}`.trim();if(o[0]==="+"){let h=o.split("");h.shift(),o=h.join("")}return`n<sup>th</sup>&ensp;term = ${o}`}}(t=>{function n(r,o,h,L){const v=new c(L/6),l=new c(h).sub(v.mul(12)).div(2),a=new c(o).sub(v.mul(7).add(l.mul(3))),f=new c(r).sub(v.add(l).add(a));return new t(v,l,a,f)}t.fromDiff=n;function i(r){return new c(r)}t.toFraction=i;function e(r){let o=`
        <span class="fraction">
            ${Math.abs(r.d)!==1?`<span class="numerator">${r.n}</span>
                    <span class="denominator">${r.d}</span>
                    `:`<span class="number">${r.n}</span>`}
        </span>`;return r.s<0?o="-"+o:o="+"+o,o}t.fractiontoHTMLCode=e})(w||(w={}));const F=w;class p{constructor(n,i){this.fstItem=n,this.ratio=i}getHTMLCode(){let n="";return n=`
            ${this.fstItem!==1&&this.ratio.valueOf()!==this.fstItem?`${this.fstItem} · `:""}
            ${p.fractiontoHTMLCode(this.ratio)}
            <sup>n${this.ratio.valueOf()!==this.fstItem?"-1":""}</sup>`,`n<sup>th</sup>&ensp;term = ${n}`}}(t=>{function n(r){let o=0;for(let h=0;h<r.length-1;h++)if(o===0)o=r[h+1]/r[h];else if(o!==r[h+1]/r[h])return!1;return!0}t.isGeometric=n;function i(r){return`
        <span class="fraction">
            ${Math.abs(r.d)!==1?`<span class="numerator">${r.n}</span>
                    <span class="denominator">${r.d}</span>
                    `:`<span class="number">${r.n}</span>`}
        </span>`}t.fractiontoHTMLCode=i;function e(r){return new t(r[0],new c(r[1]/r[0]))}t.fromSequence=e})(p||(p={}));const H=p;function x(t,n){if(!n)return;let i=JSON.parse(`[${t}]`);if(!i[0]&&i[0]!==0){alert("参数错误");return}let e=[i[1]-i[0],i[2]-i[1],i[3]-i[2]],r=[e[1]-e[0],e[2]-e[1]],o=[r[1]-r[0]];n.innerHTML=F.fromDiff(i[0],e[0],r[0],o[0]).getHTMLCode(),H.isGeometric(i)&&(n.innerHTML=H.fromSequence(i).getHTMLCode())}var O;(O=document.getElementById("calc-button"))==null||O.addEventListener("click",()=>{x(document.getElementById("sequence-data").value,document.getElementById("nth-term-data"))});
